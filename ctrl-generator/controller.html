<html>
<head>
  <title>AirConsole Controller</title>
  <link rel="stylesheet" href="../button/button.css">
  <link rel="stylesheet" href="../dpad/dpad.css">
  <link rel="stylesheet" href="controller.css">
  <link rel="stylesheet" href="ui-ctrl-generator.css">
</head>
<body>

<div class="container">

  <h1>AirConsole Controller Generator</h1>

  <div id="gamepad_code">
    <div class="gamepad_container">
      <div id="left" class="left"></div>
      <div id="middle" class="middle"></div>
      <div id="right" class="right"></div>
    </div>
  </div>

    <!-- UI Generator -->
    <div class="generator_container">
      <div class="left">
        <select class="ui_select" data-id="left"></select>
        <div class="info_container"></div>
        <div class="form_container"></div>
      </div>
      <div data-id="middle" class="middle">
        <input type="text" id="middle_bttn_label" placeholder="Middle button caption">
        <button type="button" id="middle_bttn_add">&plus; Add</button>
        <button type="button" id="middle_bttn_remove">Clear</button>
      </div>
      <div class="right">
        <select class="ui_select" data-id="right"></select>
        <div class="info_container"></div>
        <div class="form_container"></div>
      </div>
    </div>

    <h4 class="output">Controller.html:</h4>
    <textarea id="output" readonly="readonly"></textarea>
    <p>
      <b>Make sure</b> you have downloaded and included the following files in your project directory:
      <br>(We assume your project root dir looks like that)
      <ul>
        <li>button/button.css</li>
        <li>button/button.js</li>
        <li>dpad/dpad.css</li>
        <li>dpad/dpad.js</li>
        <li>dpad/joystick.js</li>
        <li>ctrl-generator/ctrl-generator.js</li>
        <li>ctrl-generator/ctrl-generator.css</li>
      </ul>
    </p>
  </div>

  <!-- Info divs -->
  <div id="info-ButtonVertical" class="info">
    Buttons send:
<code><pre>
  {
    key: &lt;the-defined-key&gt;,
    pressed: true|false
  }
</pre></code>
  </div>

  <div id="info-DPad" class="info">
    DPad will send to the screen:
<code><pre>
  {
    key: "<span class="key"></span>",
    // Directions 'left', 'top', 'right', 'bottom'
    message: { direction: &lt;String&gt; }
  }
</pre></code>
  </div>

  <div id="info-Joystick" class="info">
    Joystick will send to the screen:
<code><pre>
  {
    key: "<span class="key"></span>",
    pressed: true|false,
    message: { x: Number, y: Number }
  }
</pre></code>
  </div>

  <div id="template_button_form" class="template_button_form">
    <h4>Add button:</h4>
    <table>
      <tr>
        <td>
          Label:
        </td>
        <td>
          <input type="text" placeholder="Caption of the button" class="button_form_label">
        </td>
      </tr>
      <tr>
        <td>
          Key to send:
        </td>
        <td>
          <input type="text" placeholder="Key to send to screen" class="button_form_key">
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input type="checkbox" class="button_form_on_button_up"> Also send on button-up event
        </td>
      </tr>
    </table>
    <button class="add_bttn">Add button</button>
  </div>

</div>

  <!-- TEMPLATES for elements -->
  <div id="templates">
    <div style="display: none;">
      <div id="template-DPad">
        <div>
          <div class="dpad-arrow dpad-arrow-up"></div>
          <div class="dpad-arrow dpad-arrow-down"></div>
          <div class="dpad-arrow dpad-arrow-left"></div>
          <div class="dpad-arrow dpad-arrow-right"></div>
        </div>
      </div>

      <div id="template-Joystick" class="joystick">
        <div class="joystick-relative"></div>
      </div>

      <div id="template-Button" class="button-300-150"><div class="button-text"></div></div>

      <div id="template-ButtonMiddle" class="button-80"><div class="button-text">START</div></div>
    </div>
  </div>

  <!-- Include libraries -->
  <script type="text/javascript" src="http://www.airconsole.com/api/airconsole-1.2.1.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="../dpad/dpad.js"></script>
  <script type="text/javascript" src="../button/button.js"></script>
  <script type="text/javascript" src="../joystick/joystick.js"></script>
  <script type="text/javascript" src="ctrl-generator.js"></script>
  <script type="text/javascript" src="ui-ctrl-generator.js"></script>

  <!-- Config your controller -->
  <script type="text/javascript">
    /* ================================
      * Available sides:
        left (Dpad, Joystick, ButtonVertical)
        middle (only an array of ButtonMiddle)
        right (Dpad, Joystick, ButtonVertical)

      * Side properties:
        * type:
          CtrlGenerator.Type.DPad
          CtrlGenerator.Type.Joystick
          CtrlGenerator.Type.ButtonVertical
          CtrlGenerator.Type.ButtonMiddle

        * opts:
          The option params to initiate DPad, Joystick, Button. See their documentation.

        * on_up_message:
          Boolean (Def: true) - Allow to send AirConsole message on an input up event
                                (on release, touchend, etc)

        * Custom additional properties:
          Buttons:
            label <string> - The label to show on the button
            key: <string> - An identifier which will be send to the AirConsole.Screen

      * Params which will be send to AirConsole Screen on input event:
        DPad:
          - key: 'dpad-NUMBER'
          - pressed: true|false
          - message: { direction: 'left', 'top', 'right', 'bottom' }
        ButtonVertical / ButtonMiddle:
          - key: the key defined in the options properties 'key"
          - pressed: true|false
        Joystick:
          - key: 'joystick-NUMBER'
          - pressed: true
          - message: point {x, y}
    ================================ */
    // Example:

    var airconsole = new AirConsole({
      orientation: AirConsole.ORIENTATION_LANDSCAPE
    });

    CtrlGenerator
      // (Optional) Call this with true and check your browser console
      .debug(true)
      // Set airconsole, so that we can send input events to the screen
      .setAirConsole(airconsole)
      // Load a default config for presentation purposes
      .generate(UICtrlGenerator.ctrl_config);
  </script>
</body>
</html>
